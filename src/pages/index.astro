---
import PostDate from "@/components/PostDate.astro";
import { getLatestWritings } from "@/helpers/writings";
import Layout from "@/layouts/Layout.astro";

const latestWriting = await getLatestWritings(3);
---

<Layout>
  <Fragment slot="content">
    <p class="text-gray-700 leading-relaxed mb-3">
      I'm a fullstack developer. I work at
      <a href="https://saleor.io/" class="underline hover:opacity-70">Saleor</a
      >{" "}where I build an open-source e-commerce platform.
    </p>
    <section class="mb-12">
      <h2 class="text-lg font-medium text-gray-900 mb-6">Latest writing</h2>
      <ul class="space-y-5">
        {
          latestWriting.map((post) => (
            <li class="group">
              <a href={`/writing/${post.slug}`} class="block">
                <div class="flex flex-col sm:flex-row sm:justify-between sm:items-baseline">
                  <span class="group-hover:opacity-70 transition-opacity">
                    {post.data.title}
                  </span>
                  {post.data.pubDate && <PostDate date={post.data.pubDate} />}
                </div>
              </a>
            </li>
          ))
        }
      </ul>
    </section>
  </Fragment>
</Layout>
